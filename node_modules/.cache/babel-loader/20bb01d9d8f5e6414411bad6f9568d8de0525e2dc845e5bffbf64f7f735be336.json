{"ast":null,"code":"var _jsxFileName = \"D:\\\\webGhoul\\\\web-development\\\\Portfolio\\\\React-Projects\\\\webGhoul-Cashier\\\\src\\\\Components\\\\Cashier\\\\Check\\\\Check.js\",\n  _s = $RefreshSig$();\nimport { React, useState, useEffect, useRef, memo } from 'react';\nimport './Check.css';\nimport { FaCashRegister } from \"react-icons/fa\";\nimport Swal from 'sweetalert2';\nimport { IoIosAddCircleOutline } from \"react-icons/io\";\nimport { AiOutlineMinusCircle } from 'react-icons/ai';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Check(props) {\n  _s();\n  const noOrder = useRef();\n  const order = useRef();\n  const sub = useRef();\n  const total = useRef();\n  const tax = useRef();\n  const ordersNum = useRef();\n  const totalPrices = useRef();\n  const normalBtns = useRef();\n  const updateBtns = useRef();\n  const [currentOrder, setCurrentOrder] = useState([]);\n  const [date, setDate] = useState(new Date().getDate());\n  const [clock, setClock] = useState(new Date().getTime());\n  const toggleOrder = val => {\n    if (val === 1) {\n      order.current.classList.remove('hide');\n      noOrder.current.classList.add('hide');\n      localStorage.setItem('isOrder', JSON.stringify(val));\n      props.isReady(val);\n    } else {\n      order.current.classList.add('hide');\n      noOrder.current.classList.remove('hide');\n      localStorage.setItem('isOrder', JSON.stringify(val));\n      props.isReady(val);\n    }\n  };\n  const ordersCount = () => {\n    let orders = [];\n    if (localStorage.getItem('orders')) {\n      orders = JSON.parse(localStorage.getItem('orders'));\n    }\n    ordersNum.current.innerHTML = orders.length;\n  };\n  const getTotalPrices = () => {\n    let orders = [];\n    let total = 0;\n    if (localStorage.getItem('orders')) {\n      orders = JSON.parse(localStorage.getItem('orders'));\n      orders.map(order => {\n        total += +order.cash.total;\n      });\n    }\n    totalPrices.current.innerHTML = total.toFixed(2);\n  };\n  const handleSweetAlert = (title, icon, msg, btnVal) => {\n    Swal.fire({\n      title: title,\n      text: msg,\n      icon: icon,\n      confirmButtonText: btnVal\n    });\n  };\n  const getDataFromLocal = () => {\n    let t = 0;\n    if (localStorage.getItem('curOrder')) {\n      let curOrder = JSON.parse(localStorage.getItem('curOrder'));\n      curOrder.map(item => {\n        t += +item.total;\n      });\n      sub.current.innerHTML = t;\n      tax.current.innerHTML = (t * 5 / 100).toFixed(2);\n      total.current.innerHTML = (t * 105 / 100).toFixed(2);\n    } else {\n      sub.current.innerHTML = 0 .toFixed(2);\n      tax.current.innerHTML = 0 .toFixed(2);\n      total.current.innerHTML = 0 .toFixed(2);\n    }\n    totalPrices.current.innerHTML = getTotalOrdersPrice();\n  };\n  const increaseItem = e => {\n    const id = e.currentTarget.parentElement.parentElement.id;\n    let curOrder = JSON.parse(localStorage.getItem('curOrder'));\n    curOrder.map(item => {\n      if (item.id === id) {\n        item.number += 1;\n        item.total += item.price;\n      }\n    });\n    setCurrentOrder(curOrder);\n    localStorage.setItem('curOrder', JSON.stringify(curOrder));\n    getDataFromLocal();\n  };\n  const decreaseItem = e => {\n    const id = e.currentTarget.parentElement.parentElement.id;\n    let arr = [];\n    let curOrder = JSON.parse(localStorage.getItem('curOrder'));\n    curOrder.map(item => {\n      if (item.id === id) {\n        if (item.number > 1) {\n          item.number -= 1;\n          item.total -= item.price;\n          arr.push(item);\n        } else {\n          if (curOrder.length === 1) {\n            localStorage.removeItem('curOrder');\n          }\n          props.renderData(id);\n        }\n      } else {\n        arr.push(item);\n      }\n    });\n    curOrder = arr;\n    if (curOrder.length === 0) {\n      setCurrentOrder();\n      localStorage.removeItem('curOrder');\n    } else {\n      setCurrentOrder(curOrder);\n      localStorage.setItem('curOrder', JSON.stringify(curOrder));\n    }\n    getDataFromLocal();\n  };\n  const handleCurrentOrder = function (local) {\n    let ID = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n    let id = 0;\n    if (localStorage.getItem('id-gen')) {\n      id = JSON.parse(localStorage.getItem('id-gen'));\n    }\n    let orders = [];\n    if (localStorage.getItem(local)) {\n      orders = JSON.parse(localStorage.getItem(local));\n    }\n    let curOrder = [];\n    if (localStorage.getItem('curOrder')) {\n      curOrder = JSON.parse(localStorage.getItem('curOrder'));\n    }\n    if (ID === -1) {\n      localStorage.setItem('id-gen', JSON.stringify(id + 1));\n      let order = {\n        id: id,\n        items: curOrder,\n        cash: {\n          sub: +sub.current.innerHTML,\n          total: +total.current.innerHTML,\n          tax: +tax.current.innerHTML\n        },\n        time: {\n          date: date,\n          time: clock\n        }\n      };\n      orders.push(order);\n    } else {\n      localStorage.setItem('id-gen', JSON.stringify(id));\n      orders.map(order => {\n        if (+order.id === ID) {\n          order.items = curOrder;\n          order.cash = {\n            sub: +sub.current.innerHTML,\n            total: +total.current.innerHTML,\n            tax: +tax.current.innerHTML\n          };\n        }\n      });\n    }\n    localStorage.setItem(local, JSON.stringify(orders));\n  };\n  const holdOrderBtn = () => {\n    if (localStorage.getItem('curOrder')) {\n      handleCurrentOrder(\"holdOrders\");\n      handleSweetAlert(\"Done\", 'success', \"The Order Is Held\", \"Ok\");\n    } else {\n      handleSweetAlert(\"Error\", \"error\", 'Data Is Not Found', 'Ok');\n    }\n    cancelOrderBtn(false);\n    renderData();\n  };\n  const sendOrderBtn = () => {\n    if (localStorage.getItem('curOrder')) {\n      handleCurrentOrder(\"orders\");\n      handleSweetAlert(\"Done\", 'success', \"The Order Is Sent\", \"Ok\");\n    } else {\n      handleSweetAlert(\"Error\", \"error\", 'Data Is Not Found', 'Ok');\n    }\n    cancelOrderBtn(false);\n    renderData();\n  };\n  const cancelOrderBtn = val => {\n    localStorage.removeItem(\"curOrder\");\n    localStorage.removeItem(\"updateOrder\");\n    if (val) {\n      handleSweetAlert(\"Done\", 'success', \"The Order Is Canceled\", \"Ok\");\n    }\n    props.isCancel(0);\n    toggleOrder(0);\n    setCurrentOrder();\n    localStorage.removeItem('isUpdate');\n    renderData();\n  };\n  const updateOrderBtn = () => {\n    if (localStorage.getItem('isUpdate')) {\n      let id = 0;\n      id = JSON.parse(localStorage.getItem('isUpdate'));\n      handleCurrentOrder(\"orders\", id);\n      localStorage.removeItem('isUpdate');\n      isUpdate();\n      cancelOrderBtn(false);\n      handleSweetAlert(\"Done\", 'success', \"The Order Is Update\", \"Ok\");\n    } else {\n      handleSweetAlert(\"Error\", 'error', \"The Order Is Not Found\", \"Ok\");\n    }\n    renderData();\n  };\n  const renderData = () => {\n    let curOrder = [];\n    if (localStorage.getItem('curOrder')) {\n      curOrder = JSON.parse(localStorage.getItem('curOrder'));\n      setCurrentOrder(curOrder);\n    } else {\n      setCurrentOrder();\n    }\n    if (JSON.parse(localStorage.getItem(\"isOrder\")) === 0) {\n      localStorage.removeItem('curOrder');\n      localStorage.removeItem('isUpdate');\n    }\n    isOrder();\n    ordersCount();\n    getTotalPrices();\n    isUpdate();\n    getDataFromLocal();\n  };\n  const isOrder = () => {\n    let n = 0;\n    if (localStorage.getItem('isOrder')) {\n      n = JSON.parse(localStorage.getItem('isOrder'));\n      if (n === 1) {\n        toggleOrder(1);\n      } else {\n        setCurrentOrder();\n        toggleOrder(0);\n      }\n    } else {\n      setCurrentOrder();\n      toggleOrder(0);\n    }\n  };\n  const getTotalOrdersPrice = () => {\n    let total = 0;\n    if (localStorage.getItem('orders')) {\n      let orders = JSON.parse(localStorage.getItem('orders'));\n      orders.map(order => {\n        total += order.cash.total;\n      });\n    }\n    localStorage.setItem('totalPriceOrder', JSON.stringify(total));\n    return total.toFixed(2);\n  };\n  const isUpdate = () => {\n    if (localStorage.getItem('isUpdate')) {\n      updateBtns.current.classList.remove('hide');\n      normalBtns.current.classList.add('hide');\n    } else {\n      updateBtns.current.classList.add('hide');\n      normalBtns.current.classList.remove('hide');\n    }\n  };\n  useEffect(() => {\n    renderData();\n    let tikTok = setInterval(() => {\n      setClock(new Date().getHours() + \":\" + new Date().getMinutes() + \":\" + new Date().getSeconds());\n      setDate(new Date().getFullYear() + \"-\" + (new Date().getMonth() + 1) + \"-\" + new Date().getDate());\n    }, 1000);\n    return () => clearInterval(tikTok);\n  }, [props.data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"check\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contain\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"head\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"date\",\n          children: date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"clock\",\n          children: clock\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-order\",\n        ref: noOrder,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          children: /*#__PURE__*/_jsxDEV(FaCashRegister, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"You don't have new order's yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => toggleOrder(1),\n            children: \"new order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order hide\",\n        ref: order,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lists\",\n            children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"top\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"QTY\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Each\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"orders\",\n              children: currentOrder ? currentOrder.map((e, i) => {\n                return /*#__PURE__*/_jsxDEV(\"ul\", {\n                  id: e.id,\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"name\",\n                    children: e.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"QTY\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"min\",\n                      onClick: e => decreaseItem(e),\n                      children: /*#__PURE__*/_jsxDEV(AiOutlineMinusCircle, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 329,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"qty\",\n                      children: e.number\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"add\",\n                      onClick: e => increaseItem(e),\n                      children: /*#__PURE__*/_jsxDEV(IoIosAddCircleOutline, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 333,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 332,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"each\",\n                    children: [\"$\", e.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"total\",\n                    children: [\"$\", e.total]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 25\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 23\n                }, this);\n              }) : /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"noItem\",\n                children: \"No Items Yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-price\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sub-total\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Sub Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sub-price\",\n                children: [\"$ \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sub\",\n                  ref: sub,\n                  children: \"0.00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 46\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tax\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"tax \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"precent\",\n                  children: \"5%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tax-price\",\n                children: [\"$ \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"tax\",\n                  ref: tax,\n                  children: \"0.00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 46\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"total-price\",\n                children: [\"$ \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"total\",\n                  ref: total,\n                  children: \"0.00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 48\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btns normal\",\n          ref: normalBtns,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hold-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => holdOrderBtn(),\n              children: \"Hold Order\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"options-btn\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"cancel\",\n              onClick: () => cancelOrderBtn(true),\n              children: \"Cancel Order\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => sendOrderBtn(),\n              children: \"Send Order\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btns btns-update hide\",\n          ref: updateBtns,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel\",\n            onClick: () => cancelOrderBtn(true),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => updateOrderBtn(),\n            children: \"Update Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Total order's today\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"counter\",\n          ref: ordersNum,\n          children: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"total-price\",\n          children: [\"$ \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"price\",\n            ref: totalPrices,\n            children: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 43\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n}\n_s(Check, \"+rwgWMoR2kJ89cYPxoRo06OE9sk=\");\n_c = Check;\nexport default _c2 = /*#__PURE__*/memo(Check);\nvar _c, _c2;\n$RefreshReg$(_c, \"Check\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useState","useEffect","useRef","memo","FaCashRegister","Swal","IoIosAddCircleOutline","AiOutlineMinusCircle","Check","props","noOrder","order","sub","total","tax","ordersNum","totalPrices","normalBtns","updateBtns","currentOrder","setCurrentOrder","date","setDate","Date","getDate","clock","setClock","getTime","toggleOrder","val","current","classList","remove","add","localStorage","setItem","JSON","stringify","isReady","ordersCount","orders","getItem","parse","innerHTML","length","getTotalPrices","map","cash","toFixed","handleSweetAlert","title","icon","msg","btnVal","fire","text","confirmButtonText","getDataFromLocal","t","curOrder","item","getTotalOrdersPrice","increaseItem","e","id","currentTarget","parentElement","number","price","decreaseItem","arr","push","removeItem","renderData","handleCurrentOrder","local","ID","items","time","holdOrderBtn","cancelOrderBtn","sendOrderBtn","isCancel","updateOrderBtn","isUpdate","isOrder","n","tikTok","setInterval","getHours","getMinutes","getSeconds","getFullYear","getMonth","clearInterval","data","i","name"],"sources":["D:/webGhoul/web-development/Portfolio/React-Projects/webGhoul-Cashier/src/Components/Cashier/Check/Check.js"],"sourcesContent":["import { React, useState, useEffect, useRef, memo } from 'react'\r\nimport './Check.css'\r\nimport { FaCashRegister } from \"react-icons/fa\"\r\nimport Swal from 'sweetalert2'\r\nimport { IoIosAddCircleOutline } from \"react-icons/io\"\r\nimport { AiOutlineMinusCircle } from 'react-icons/ai'\r\n\r\n\r\nfunction Check(props) {\r\n  const noOrder = useRef()\r\n  const order = useRef()\r\n  const sub = useRef()\r\n  const total = useRef()\r\n  const tax = useRef()\r\n  const ordersNum = useRef()\r\n  const totalPrices = useRef()\r\n  const normalBtns = useRef()\r\n  const updateBtns = useRef()\r\n  const [currentOrder, setCurrentOrder] = useState([])\r\n  const [date, setDate] = useState(new Date().getDate())\r\n  const [clock, setClock] = useState(new Date().getTime())\r\n\r\n\r\n\r\n  const toggleOrder = (val) => {\r\n    if (val === 1) {\r\n      order.current.classList.remove('hide')\r\n      noOrder.current.classList.add('hide')\r\n      localStorage.setItem('isOrder', JSON.stringify(val))\r\n      props.isReady(val)\r\n    } else {\r\n      order.current.classList.add('hide')\r\n      noOrder.current.classList.remove('hide')\r\n      localStorage.setItem('isOrder', JSON.stringify(val))\r\n      props.isReady(val)\r\n    }\r\n  }\r\n\r\n  const ordersCount = () => {\r\n    let orders = []\r\n    if (localStorage.getItem('orders')) {\r\n      orders = JSON.parse(localStorage.getItem('orders'))\r\n    }\r\n    ordersNum.current.innerHTML = orders.length\r\n  }\r\n\r\n  const getTotalPrices = () => {\r\n    let orders = []\r\n    let total = 0\r\n    if (localStorage.getItem('orders')) {\r\n      orders = JSON.parse(localStorage.getItem('orders'))\r\n      orders.map((order) => {\r\n        total += +order.cash.total\r\n      })\r\n    }\r\n    totalPrices.current.innerHTML = total.toFixed(2)\r\n  }\r\n\r\n  const handleSweetAlert = (title, icon, msg, btnVal) => {\r\n    Swal.fire({\r\n      title: title,\r\n      text: msg,\r\n      icon: icon,\r\n      confirmButtonText: btnVal\r\n    })\r\n  }\r\n\r\n  const getDataFromLocal = () => {\r\n    let t = 0\r\n    if (localStorage.getItem('curOrder')) {\r\n      let curOrder = JSON.parse(localStorage.getItem('curOrder'))\r\n      curOrder.map((item) => {\r\n        t += +item.total\r\n      })\r\n      sub.current.innerHTML = t\r\n      tax.current.innerHTML = (t * 5 / 100).toFixed(2)\r\n      total.current.innerHTML = (t * 105 / 100).toFixed(2)\r\n    } else {\r\n      sub.current.innerHTML = (0).toFixed(2)\r\n      tax.current.innerHTML = (0).toFixed(2)\r\n      total.current.innerHTML = (0).toFixed(2)\r\n    }\r\n    totalPrices.current.innerHTML = getTotalOrdersPrice()\r\n  }\r\n\r\n  const increaseItem = (e) => {\r\n    const id = e.currentTarget.parentElement.parentElement.id\r\n    let curOrder = JSON.parse(localStorage.getItem('curOrder'))\r\n    curOrder.map((item) => {\r\n      if (item.id === id) {\r\n        item.number += 1\r\n        item.total += item.price\r\n      }\r\n    })\r\n    setCurrentOrder(curOrder)\r\n    localStorage.setItem('curOrder', JSON.stringify(curOrder))\r\n    getDataFromLocal()\r\n  }\r\n\r\n  const decreaseItem = (e) => {\r\n    const id = e.currentTarget.parentElement.parentElement.id\r\n    let arr = []\r\n    let curOrder = JSON.parse(localStorage.getItem('curOrder'))\r\n    curOrder.map((item) => {\r\n      if (item.id === id) {\r\n        if (item.number > 1) {\r\n          item.number -= 1\r\n          item.total -= item.price\r\n          arr.push(item)\r\n        } else {\r\n          if (curOrder.length === 1) {\r\n            localStorage.removeItem('curOrder')\r\n          }\r\n          props.renderData(id)\r\n        }\r\n      } else {\r\n        arr.push(item)\r\n      }\r\n    })\r\n    curOrder = arr\r\n    if (curOrder.length === 0) {\r\n      setCurrentOrder()\r\n      localStorage.removeItem('curOrder')\r\n    } else {\r\n      setCurrentOrder(curOrder)\r\n      localStorage.setItem('curOrder', JSON.stringify(curOrder))\r\n    }\r\n    getDataFromLocal()\r\n  }\r\n\r\n  const handleCurrentOrder = (local, ID = -1) => {\r\n    let id = 0;\r\n    if (localStorage.getItem('id-gen')) {\r\n      id = JSON.parse(localStorage.getItem('id-gen'))\r\n    }\r\n    let orders = []\r\n    if (localStorage.getItem(local)) {\r\n      orders = JSON.parse(localStorage.getItem(local))\r\n    }\r\n    let curOrder = []\r\n    if (localStorage.getItem('curOrder')) {\r\n      curOrder = JSON.parse(localStorage.getItem('curOrder'))\r\n    }\r\n    if (ID === -1) {\r\n      localStorage.setItem('id-gen', JSON.stringify(id + 1))\r\n      let order = {\r\n        id: id,\r\n        items: curOrder,\r\n        cash: {\r\n          sub: +sub.current.innerHTML,\r\n          total: +total.current.innerHTML,\r\n          tax: +tax.current.innerHTML\r\n        }, time: {\r\n          date: date,\r\n          time: clock\r\n        }\r\n      }\r\n      orders.push(order)\r\n    } else {\r\n      localStorage.setItem('id-gen', JSON.stringify(id))\r\n      orders.map((order) => {\r\n        if (+order.id === ID) {\r\n          order.items = curOrder\r\n          order.cash = {\r\n            sub: +sub.current.innerHTML,\r\n            total: +total.current.innerHTML,\r\n            tax: +tax.current.innerHTML\r\n          }\r\n        }\r\n      })\r\n    }\r\n    localStorage.setItem(local, JSON.stringify(orders))\r\n  }\r\n\r\n  const holdOrderBtn = () => {\r\n    if (localStorage.getItem('curOrder')) {\r\n      handleCurrentOrder(\"holdOrders\")\r\n      handleSweetAlert(\"Done\", 'success', \"The Order Is Held\", \"Ok\")\r\n    } else {\r\n      handleSweetAlert(\"Error\", \"error\", 'Data Is Not Found', 'Ok')\r\n    }\r\n    cancelOrderBtn(false)\r\n    renderData()\r\n  }\r\n\r\n  const sendOrderBtn = () => {\r\n    if (localStorage.getItem('curOrder')) {\r\n      handleCurrentOrder(\"orders\")\r\n      handleSweetAlert(\"Done\", 'success', \"The Order Is Sent\", \"Ok\")\r\n    } else {\r\n      handleSweetAlert(\"Error\", \"error\", 'Data Is Not Found', 'Ok')\r\n    }\r\n    cancelOrderBtn(false)\r\n    renderData()\r\n  }\r\n\r\n  const cancelOrderBtn = (val) => {\r\n    localStorage.removeItem(\"curOrder\")\r\n    localStorage.removeItem(\"updateOrder\")\r\n    if (val) {\r\n      handleSweetAlert(\"Done\", 'success', \"The Order Is Canceled\", \"Ok\")\r\n    }\r\n    props.isCancel(0)\r\n    toggleOrder(0)\r\n    setCurrentOrder()\r\n    localStorage.removeItem('isUpdate')\r\n    renderData()\r\n  }\r\n\r\n  const updateOrderBtn = () => {\r\n    if (localStorage.getItem('isUpdate')) {\r\n      let id = 0;\r\n      id = JSON.parse(localStorage.getItem('isUpdate'))\r\n      handleCurrentOrder(\"orders\", id)\r\n      localStorage.removeItem('isUpdate')\r\n      isUpdate()\r\n      cancelOrderBtn(false)\r\n      handleSweetAlert(\"Done\", 'success', \"The Order Is Update\", \"Ok\")\r\n    } else {\r\n      handleSweetAlert(\"Error\", 'error', \"The Order Is Not Found\", \"Ok\")\r\n    }\r\n    renderData()\r\n  }\r\n\r\n  const renderData = () => {\r\n    let curOrder = []\r\n    if (localStorage.getItem('curOrder')) {\r\n      curOrder = JSON.parse(localStorage.getItem('curOrder'))\r\n      setCurrentOrder(curOrder)\r\n    } else {\r\n      setCurrentOrder()\r\n    }\r\n    if (JSON.parse(localStorage.getItem(\"isOrder\")) === 0) {\r\n      localStorage.removeItem('curOrder')\r\n      localStorage.removeItem('isUpdate')\r\n    }\r\n    isOrder()\r\n    ordersCount()\r\n    getTotalPrices()\r\n    isUpdate()\r\n    getDataFromLocal()\r\n  }\r\n\r\n  const isOrder = () => {\r\n    let n = 0\r\n    if (localStorage.getItem('isOrder')) {\r\n      n = JSON.parse(localStorage.getItem('isOrder'))\r\n      if (n === 1) {\r\n        toggleOrder(1)\r\n      } else {\r\n        setCurrentOrder()\r\n        toggleOrder(0)\r\n      }\r\n    } else {\r\n      setCurrentOrder()\r\n      toggleOrder(0)\r\n    }\r\n  }\r\n\r\n  const getTotalOrdersPrice = () => {\r\n    let total = 0;\r\n    if (localStorage.getItem('orders')) {\r\n      let orders = JSON.parse(localStorage.getItem('orders'))\r\n      orders.map((order) => {\r\n        total += order.cash.total\r\n      })\r\n    }\r\n    localStorage.setItem('totalPriceOrder', JSON.stringify(total))\r\n    return total.toFixed(2)\r\n  }\r\n\r\n  const isUpdate = () => {\r\n    if (localStorage.getItem('isUpdate')) {\r\n      updateBtns.current.classList.remove('hide')\r\n      normalBtns.current.classList.add('hide')\r\n    } else {\r\n      updateBtns.current.classList.add('hide')\r\n      normalBtns.current.classList.remove('hide')\r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    renderData()\r\n    let tikTok = setInterval(() => {\r\n      setClock(new Date().getHours() + \":\" + new Date().getMinutes() + \":\" + new Date().getSeconds())\r\n      setDate(new Date().getFullYear() + \"-\" + (new Date().getMonth() + 1) + \"-\" + new Date().getDate())\r\n    }, 1000)\r\n    return (() => clearInterval(tikTok))\r\n  }, [props.data])\r\n\r\n\r\n  return (\r\n    <div className='check'>\r\n      <div className=\"contain\">\r\n        <div className=\"head\">\r\n          <span className=\"date\">{date}</span>\r\n          <span className='clock'>{clock}</span>\r\n        </div>\r\n\r\n        <div className=\"no-order\" ref={noOrder}>\r\n          <i>\r\n            <FaCashRegister />\r\n          </i>\r\n          <h3>You don't have new order's yet</h3>\r\n          <div className=\"btn\">\r\n            <button onClick={() => toggleOrder(1)}>new order</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"order hide\" ref={order}>\r\n          <div className=\"border\">\r\n            <div className=\"lists\">\r\n              <ul className=\"top\">\r\n                <li>Name</li>\r\n                <li>QTY</li>\r\n                <li>Each</li>\r\n                <li>Total</li>\r\n              </ul>\r\n\r\n              <div className=\"orders\">\r\n                {\r\n                  currentOrder ? currentOrder.map((e, i) => {\r\n                    return (\r\n                      <ul key={i} id={e.id}>\r\n                        <li className='name'>{e.name}</li>\r\n                        <li className='QTY'>\r\n                          <span className=\"min\" onClick={(e) => decreaseItem(e)}>\r\n                            <AiOutlineMinusCircle />\r\n                          </span>\r\n                          <span className=\"qty\">{e.number}</span>\r\n                          <span className=\"add\" onClick={(e) => increaseItem(e)}>\r\n                            <IoIosAddCircleOutline />\r\n                          </span>\r\n                        </li>\r\n                        <li className='each'>${e.price}</li>\r\n                        <li className=\"total\">${e.total}</li>\r\n                      </ul>\r\n                    )\r\n                  }) : (\r\n                    <h4 className='noItem'>No Items Yet</h4>\r\n                  )\r\n                }\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"info-price\">\r\n              <div className=\"sub-total\">\r\n                <span>Sub Total</span>\r\n                <div className=\"sub-price\">$ <span className='sub' ref={sub}>0.00</span></div>\r\n              </div>\r\n              <div className=\"tax\">\r\n                <span>tax <span className=\"precent\">5%</span></span>\r\n                <div className=\"tax-price\">$ <span className='tax' ref={tax}>0.00</span></div>\r\n              </div>\r\n              <div className=\"total\">\r\n                <span>Total</span>\r\n                <div className=\"total-price\">$ <span className='total' ref={total}>0.00</span></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"btns normal\" ref={normalBtns}>\r\n            <div className=\"hold-btn\">\r\n              <button onClick={(e) => holdOrderBtn()}>Hold Order</button>\r\n            </div>\r\n            <div className=\"options-btn\">\r\n              <button className='cancel' onClick={() => cancelOrderBtn(true)}>Cancel Order</button>\r\n              <button onClick={() => sendOrderBtn()}>Send Order</button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"btns btns-update hide\" ref={updateBtns}>\r\n            <button className='cancel' onClick={() => cancelOrderBtn(true)}>Cancel</button>\r\n            <button onClick={() => updateOrderBtn()}>Update Order</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"info\">\r\n          <span>Total order's today</span>\r\n          <span className=\"counter\" ref={ordersNum}>0</span>\r\n          <span className=\"total-price\">$ <span className='price' ref={totalPrices}>0</span> </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(Check);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}